generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Admin {
    id        Int      @id @default(autoincrement())
    username  String   @unique
    password  String
    email     String   @unique
    role      String   @default("ADMIN")
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Blog {
    id        Int      @id @default(autoincrement())
    title     String
    content   String
    author    String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Gallery {
    id          Int      @id @default(autoincrement())
    imgUrl      String
    description String
    isActive    Boolean  @default(true)
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}

model Rating {
    id      Int    @id @default(autoincrement())
    stars   Int
    comment String
}

model Contact {
    id        Int      @id @default(autoincrement())
    name      String
    email     String
    phone     String
    message   String
    createdAt DateTime @default(now())
}

enum ReservationStatus {
    PENDING
    CONFIRMED
    CANCELLED
    COMPLETED
}

model Reservation {
    id        Int               @id @default(autoincrement())
    guestsNum Int
    date      DateTime
    time      String
    status    ReservationStatus @default(PENDING)
    createdAt DateTime          @default(now())
    updatedAt DateTime          @updatedAt
}

model CuisineType {
    id    Int    @id @default(autoincrement())
    type  String
    menus Menu[]
}

model Menu {
    id        Int         @id @default(autoincrement())
    name      String
    cuisineId Int
    cuisine   CuisineType @relation(fields: [cuisineId], references: [id])
    createdAt DateTime    @default(now())
    updatedAt DateTime    @updatedAt
    foods     Food[]
}

model Food {
    id             Int         @id @default(autoincrement())
    name           String
    description    String
    //    images         String[] // Array of image URLs
    price          Decimal
    isFeatured     Boolean     @default(false)
    featuredBanner String?
    menuId         Int
    menu           Menu        @relation(fields: [menuId], references: [id])
    createdAt      DateTime    @default(now())
    updatedAt      DateTime    @updatedAt
    foodImages     FoodImage[]
}

model FoodImage {
    id     Int    @id @default(autoincrement())
    imgUrl String
    foodId Int
    food   Food   @relation(fields: [foodId], references: [id])
}
